<!doctype html><html lang=es class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Notas muy rápidas de cosas que he ido viendo en Linux y que me resultan útiles"><meta name=author content="Federico Coca"><link href=https://fgcoca.github.io/Mis-notas-sobre-Linux-Ubuntu/A20_22/ rel=canonical><link rel=icon href=../img/favicon.png><meta name=generator content="mkdocs-1.3.1, mkdocs-material-8.4.0"><title>Actualizar Ubuntu 20.04 a Ubuntu 22.04 - Mis notas sobre Linux trabajando con Ubuntu</title><link rel=stylesheet href=../assets/stylesheets/main.69437709.min.css><link rel=stylesheet href=../assets/stylesheets/palette.cbb835fc.min.css><meta name=theme-color content=#02a6f2><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=light-blue data-md-color-accent=deep-purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#actualizar-ubuntu-2004-a-ubuntu-2204 class=md-skip> Saltar a contenido </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Cabecera> <a href=.. title="Mis notas sobre Linux trabajando con Ubuntu" class="md-header__button md-logo" aria-label="Mis notas sobre Linux trabajando con Ubuntu" data-md-component=logo> <img src=../img/favicon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Mis notas sobre Linux trabajando con Ubuntu </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Actualizar Ubuntu 20.04 a Ubuntu 22.04 </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Búsqueda placeholder=Búsqueda autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Limpiar tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Inicializando búsqueda </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/fgcoca/Mis-notas-sobre-Linux-Ubuntu title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> fgcoca/Mis-notas-sobre-Linux-Ubuntu </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navegación data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Mis notas sobre Linux trabajando con Ubuntu" class="md-nav__button md-logo" aria-label="Mis notas sobre Linux trabajando con Ubuntu" data-md-component=logo> <img src=../img/favicon.png alt=logo> </a> Mis notas sobre Linux trabajando con Ubuntu </label> <div class=md-nav__source> <a href=https://github.com/fgcoca/Mis-notas-sobre-Linux-Ubuntu title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> fgcoca/Mis-notas-sobre-Linux-Ubuntu </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Introducción </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Actualizar Ubuntu 20.04 a Ubuntu 22.04 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Actualizar Ubuntu 20.04 a Ubuntu 22.04 </a> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#solucion-de-errores-apt-update-comunes class=md-nav__link> Solución de errores apt update comunes </a> </li> <li class=md-nav__item> <a href=#aviso-importante class=md-nav__link> Aviso importante </a> </li> <li class=md-nav__item> <a href=#webgrafia class=md-nav__link> Webgrafia </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Miscelanea <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Miscelanea data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Miscelanea </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Miscelanea/about/ class=md-nav__link> Autor </a> </li> <li class=md-nav__item> <a href=../Miscelanea/lic/ class=md-nav__link> Licencias </a> </li> <li class=md-nav__item> <a href=../Miscelanea/webgrafia/ class=md-nav__link> Webgrafia/Bibliografía </a> </li> <li class=md-nav__item> <a href=../Miscelanea/soft/ class=md-nav__link> Software utilizado </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#solucion-de-errores-apt-update-comunes class=md-nav__link> Solución de errores apt update comunes </a> </li> <li class=md-nav__item> <a href=#aviso-importante class=md-nav__link> Aviso importante </a> </li> <li class=md-nav__item> <a href=#webgrafia class=md-nav__link> Webgrafia </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=actualizar-ubuntu-2004-a-ubuntu-2204><font color=#8B008B>Actualizar Ubuntu 20.04 a Ubuntu 22.04</font><a class=headerlink href=#actualizar-ubuntu-2004-a-ubuntu-2204 title="Permanent link">&para;</a></h1> <p>Antes de nada debemos tener presente que el proceso puede provocar perdida de datos por lo que lo mas apropiado es sacar copia de seguridad antes de hacer nada.</p> <p>Lógicamente, y salvo los problemas que ponga en estas notas, todo ha ido bien en mi caso.</p> <p>Lo primer es tener bien actualizado nuestro sistema sin ningún tipo de error o problema. Para ello abrimos una terminal y ejecutamos los comandos update y upgrade. En la figura 1 vemos el resultado que debemos tener.</p> <p><center></p> <p><img alt="Comandos update y upgrade en un sistema bien actualizado" src=../img/A20_22/F1.png><br> <em>Figura 1. Comandos update y upgrade en un sistema bien actualizado</em></p> <p></center></p> <p>Podemos configurar en el fichero /etc/update-manager/release-upgrades como queremos trabajar con las actualizaciones según configuremos el 'Prompt' entre las opciones que vemos en la Figura 2.</p> <p><center></p> <p><img alt="Opciones de configuración del Prompt en release-upgrades" src=../img/A20_22/F2.png><br> <em>Figura 2. Opciones de configuración del Prompt en release-upgrades</em></p> <p></center></p> <p>Esto no es mas que el comportamiento predeterminado para la actualización de versiones, que tiene como opciones válidas las siguientes:</p> <ul> <li> <p><strong>never</strong>. No se permite ni verificar ni actualizar</p> </li> <li> <p><strong>normal</strong>. Se comprueba si hay una nueva versión disponible y si se encuentran varias el actualizador intentará actualizar a la versión que suceda inmediatamente a la que se está ejecutando actualmente.</p> </li> <li> <p><strong>lts</strong>. Comprueba si hay disponible una nueva versión LTS posterior a la que se esté ejecutando actualmente, aunque esta no sea LTS. Las siglas LTS indican que la versión tiene soporte a largo plazo (Long Time Support). En Ubuntu las versiones LTS tienen soporte y son actualizadas durante 5 años mientras que las versiones normales tienen soporte durante 9 meses, lo que no significa que sea una versión que funcione mal sino que deberemos actualizar en un plazo corto de tiempo.</p> </li> </ul> <p>A continuación procedemos a ejecutar la actualización escribiendo en una terminal:</p> <div class=highlight><pre><span></span><code>sudo do-release-upgrade
</code></pre></div> <p>Hay que tener en cuenta que el proceso puede ser largo y que no es totalmente desatendido y en algunos momentos nos preguntará que hacer, razón por la que debemos estar atentos a la pantalla del ordenador.</p> <p>Una vez finalizado el proceso probablemente nos pregunte si queremos reiniciar el sistema, a lo que debemos contestar que si para que se apliquen todas las actualizaciones de forma correcta. Una vez reiniciado el ordenador podemos comprobar la versión instalada de la forma que vemos en la Figura 3.</p> <p><center></p> <p><img alt="Comprobación de la versión de Ubuntu instalada" src=../img/A20_22/F3.png><br> <em>Figura 3. Comprobación de la versión de Ubuntu instalada</em></p> <p></center></p> <p>Si todo ha transcurrido con normalidad debemos tener instalado como sistema operativo la versión Ubuntu 22.04 LTS denominada "Jammy Jellyfish" cuyo logo vemos en la Figura 4.</p> <p><center></p> <p><img alt='Ubuntu 22.04 LTS denominada "Jammy Jellyfish"' src=../img/A20_22/F4.png><br> <em>Figura 4. Ubuntu 22.04 LTS denominada "Jammy Jellyfish"</em></p> <p></center></p> <p>Aunque no lo he probado el proceso seguido desde la terminal de comandos debe valer para todos los sabores de Ubuntu.</p> <h2 id=solucion-de-errores-apt-update-comunes><font color=#007575><strong>Solución de errores apt update comunes</strong></font><a class=headerlink href=#solucion-de-errores-apt-update-comunes title="Permanent link">&para;</a></h2> <p>Si cuando hacemos update y upgrade obtenemos una ventana con errores es porque el apt tiene algún error típico. En algunos casos en la propia ventana de errores nos va a indicar como solucionarlo pero si aún así siguen apareciendo lo que debemos hacer es restaurar el comando a su origen. Para este fin vamos a utilizar el comando rm con algunas de sus opciones. El comando rm (remove) se utiliza para eliminar archivos y directorios. </p> <p>El primer comando que debemos ejecutar en una terminal para restaurar apt update es:</p> <div class=highlight><pre><span></span><code>sudo rm /etc/apt/sources.list
</code></pre></div> <p>Cuando pulsamos 'Enter' lo que hacemos es eliminar el archivo sources.list que tenemos en /etc/apt/.</p> <p>Ahora tecleamos:</p> <div class=highlight><pre><span></span><code>sudo rm /etc/apt/sources.list.d/* -vf
</code></pre></div> <p>Eliminamos sources.list.d en el mismo directorio pero con los parámetros vf. La v es de 'verbose' o modo detallado, es decir nos explica en todo momento las acciones que se están ejecutando y la f corresponde a 'force', o sea que lo elimina sin confirmación.</p> <p>En la web existen infinidad de páginas donde consultar comandos de Linux y en la webgrafia he puesto enlace a un par de ellas.</p> <p>Ahora vamos a escribir en la terminal el comando siguiente:</p> <div class=highlight><pre><span></span><code>sudo software-properties-gtk
</code></pre></div> <p>Esto nos devolverá la ventana que vemos en la Figura 5.</p> <p><center></p> <p><img alt="Ventana de Software y actualizaciones reiniciada" src=../img/A20_22/F5.png><br> <em>Figura 5. Ventana de Software y actualizaciones reiniciada</em></p> <p></center></p> <p>Aquí procedemos a configurar como vemos en la Figura 6.</p> <p><center></p> <p><img alt="Ventana de Software y actualizaciones: pestaña Software de Ubuntu" src=../img/A20_22/F6.png><br> <em>Figura 6. Ventana de Software y actualizaciones: pestaña Software de Ubuntu</em></p> <p></center></p> <p>En la Figura 7 vemos la configuración establecida en mi caso para las actualizaciones y se destaca la fecha final de soporte y actualizaciones para esta versión LTS.</p> <p><center></p> <p><img alt="Ventana de Software y actualizaciones: pestaña Actualizaciones" src=../img/A20_22/F6.png><br> <em>Figura 6. Ventana de Software y actualizaciones: pestaña Actualizaciones</em></p> <p></center></p> <p>Cerramos la ventana anterior y ejecutamos desde la terminal el comando siguiente:</p> <div class=highlight><pre><span></span><code>sudo apt update
</code></pre></div> <p>El sistema debería funcionar con normalidad a partir de este momento.</p> <h2 id=aviso-importante><font color=#007575><strong>Aviso importante</strong></font><a class=headerlink href=#aviso-importante title="Permanent link">&para;</a></h2> <p>Aunque tengamos éxito en el proceso descrito es muy probable que algunas aplicaciones no funcionen correctamente y lo que aconsejo, dada la rapidez con la que se puede hacer, es eliminarlas e instalarlas de nuevo.</p> <h2 id=webgrafia><font color=#007575><strong>Webgrafia</strong></font><a class=headerlink href=#webgrafia title="Permanent link">&para;</a></h2> <ul> <li> <p><a href=https://cambiatealinux.com/actualizar-ubuntu-20.04-a-ubuntu-22.04>Cambiate a Linux</a></p> </li> <li> <p><a href=https://ayudalinux.com/como-usar-el-comando-rm/ >Ayuda Linux</a></p> </li> <li> <p><a href=https://programmerclick.com/article/33181158698/ >programador clic</a></p> </li> <li> <p><a href=https://tecnonautas.net/una-guia-rapida-para-usar-comandos-rm-de-linux/ >https://tecnonautas.net/</a></p> </li> <li> <p>Una web 100% recomendable es <a href=https://www.tutorialesubuntu.com/2020/08/01/solucionar-errores-apt-get-update-y-restaurar-repositorios/ >Tutoriales Ubuntu</a>, con infinidad de tutoriales en Español.</p> </li> </ul> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Pie> <a href=.. class="md-footer__link md-footer__link--prev" aria-label="Anterior: Introducción" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Anterior </span> Introducción </div> </div> </a> <a href=../Miscelanea/about/ class="md-footer__link md-footer__link--next" aria-label="Siguiente: Autor" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Siguiente </span> Autor </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2022 - 2050 Federico Coca </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.config.lang": "es", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "B\u00fasqueda", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version.title": "Seleccionar versi\u00f3n"}}</script> <script src=../assets/javascripts/bundle.9c69f0bc.min.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>